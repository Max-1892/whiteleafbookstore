<?xml version="1.0" encoding="UTF-8"?>
<web-app
    version="3.1"
    xmlns="http://xmlns.jcp.org/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee;http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xs">
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
  </welcome-file-list>
  <servlet>
    <description></description>
    <display-name>CartServlet</display-name>
    <servlet-name>CartServlet</servlet-name>
    <servlet-class>com.whiteleaf.controllers.CartServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>CartServlet</servlet-name>
    <url-pattern>/whiteleafbookstore/CartServlet</url-pattern>
  </servlet-mapping>
  <servlet>
  	<servlet-name>SearchServlet</servlet-name>
  	<servlet-class>com.whiteleaf.controllers.SearchServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>RegistrationServlet</servlet-name>
  	<servlet-class>com.whiteleaf.controllers.RegistrationServlet</servlet-class>
  </servlet>
  <servlet-mapping>
  	<servlet-name>RegistrationServlet</servlet-name>
  	<url-pattern>/whiteleafbookstore/RegistrationServlet</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>SearchServlet</servlet-name>
  	<url-pattern>/whiteleafbookstore/SearchServlet</url-pattern>
  </servlet-mapping>
  <session-config>
        <session-timeout>
            30
        </session-timeout>
  </session-config>
  <resource-ref>
      <description>DB connection</description>
      <res-ref-name>jdbc/whiteleaf</res-ref-name>
      <res-type>javax.sql.DataSource</res-type>
      <res-auth>Container</res-auth>
  </resource-ref>
  <login-config>
	<auth-method>FORM</auth-method>
 	<form-login-config>
 		<form-login-page>
			 /login.html
 		</form-login-page>
 		<form-error-page>
 			/login_error.html
 		</form-error-page>
 	</form-login-config>
  </login-config>
  <security-role>
      <description>users</description>
      <role-name>user</role-name>
  </security-role>
  <security-constraint>
      <web-resource-collection>
          <web-resource-name>Protected Area</web-resource-name>
          <url-pattern>/pages/cart.jsp</url-pattern>
          <url-pattern>/pages/checkout.jsp</url-pattern>
      </web-resource-collection>
      <auth-constraint>
          <role-name>user</role-name>
      </auth-constraint>
      <user-data-constraint>
          <transport-guarantee>CONFIDENTIAL</transport-guarantee>
      </user-data-constraint>
  </security-constraint>
</web-app>
